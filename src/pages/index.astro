---
import Layout from "../layouts/Layout.astro";
import Services from "../components/Services.astro";
import NextMeeting from "../components/CloseDay.astro";
import { Image } from "astro:assets";
import PG01 from "../assets/PG01.webp";
import PG02 from "../assets/PG02.webp";
import PG03 from "../assets/PG03.webp";

export const prerender = true;
---
<Layout title="ICEP | Iglesia Complejo Evangélico Pilar">
  <main>
    <section
      class="flex m-6 p-2 sm:m-20 sm:p-10 lg:p-28 flex flex-col justify-center items-center"
    >
      <div class="grid grid-cols-1 sm:grid-cols-2">
        <div class="my-24 order-2 hidden sm:relative"></div>
        <div>
          <h1
            class="my-24 order-1 text-3xl sm:text-4xl font-sans font-black text-left text-white"
          >
            Bienvenido a la<br /> Iglesia Cristiana <br /> Evangélica Pilar
          </h1>
        </div>
      </div>
    </section>

    <section class="w-full h-screen sm:h-screen overflow-hidden">
      <Image
        src={PG01}
        alt="Imagen de personas"
        class="w-full h-full object-cover drop-shadow-3xl brightness-50"
      />
    </section>

    <section
      class="py-16 "
    >
      <NextMeeting />
    </section>

    <section class="w-full h-screen sm:h-screen overflow-hidden">
      <Image
        src={PG02}
        alt="Imagen de personas"
        class="w-full h-full object-cover drop-shadow-3xl brightness-50"
      />
    </section>

    <Services />

    <section class="w-full h-full sm:h-screen overflow-hidden">
      <div class="relative h-screen sm:h-full">
        <Image
        src={PG03}
        alt="Imagen de personas"
        class="w-full h-full object-cover drop-shadow-3xl brightness-50"
      />
      <div class=" absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
        <div class="grid grid-cols-1 sm:grid-cols-2">
          <div class="order"></div>
          <div class="flex flex-col justify-center items-center sm:items-end">

            <div class="text-center mb-12">
              <h2 class="text-2xl sm:text-3xl font-serif font-extrabold text-center sm:text-right mb-4">Contáctanos</h2>
              <p class="text-lg sm:text-xl text-gray-400 font-serif text-center sm:text-right">
                Estamos para responder tus preguntas
              </p>
            </div>
            <div>
              <a
                href="/contacto"
                class={`motion-preset-expand 
                text-white
                uppercase
                no-underline
                border-2
                border-white
                rounded-full
                py-4
                px-6
                items-center
                text-center
                text-md
                font-bold
                relative
                z-10
                transition-all
                duration-500
                ease-[cubic-bezier(0.785,0.135,0.15,0.86)]
                tracking-wide
                font-sans
                overflow-hidden
                before:content-['']
                before:absolute
                before:top-0
                before:right-0
                before:w-0
                before:h-full
                before:bg-white
                before:-z-10
                before:transition-all
                before:duration-500
                before:ease-[cubic-bezier(0.785,0.135,0.15,0.86)]
                hover:before:w-full
                hover:before:left-0
                hover:before:right-auto
                hover:text-zinc-800
                inline-flex`}
              >
                Quiero contactarme
              </a>
            </div>
    
          </div>
        </div>
      </div>
      </div>

    </section>

    <section class="py-16 mx-4 my-16 sm:mx-10 rounded-xl">
    </section>
  </main>
</Layout>

<script>
  const btnLeft = document.getElementById("btn-left"),
    btnRight = document.getElementById("btn-right"),
    slider = document.getElementById("slider"),
    sliderSections = document.querySelectorAll(".slider-section");

  let counter = 0;
  const widthImg = 100 / sliderSections.length;

  function moveToRight() {
    counter = (counter + 1) % sliderSections.length;
    if (slider) {
      slider.style.transform = `translateX(-${counter * widthImg}%)`;
    }
  }

  function moveToLeft() {
    counter = (counter - 1 + sliderSections.length) % sliderSections.length;
    if (slider) {
      slider.style.transform = `translateX(-${counter * widthImg}%)`;
    }
  }

  btnLeft?.addEventListener("click", moveToLeft);
  btnRight?.addEventListener("click", moveToRight);

  setInterval(moveToRight, 4000);
</script>
